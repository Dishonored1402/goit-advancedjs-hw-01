{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\r\n\r\nconst form = document.querySelector('.feedback-form');\r\n\r\nconst formData = {\r\n  email: '',\r\n  message: '',\r\n};\r\n\r\nif (!form) {\r\n  console.warn('Feedback form not found on this page');\r\n} else {\r\n  restoreForm();\r\n\r\n  form.addEventListener('input', handleInput);\r\n  form.addEventListener('submit', handleSubmit);\r\n}\r\n\r\nfunction handleInput(event) {\r\n  const { name, value } = event.target;\r\n\r\n  if (!(name in formData)) {\r\n    return;\r\n  }\r\n\r\n  formData[name] = value.trim();\r\n\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\r\n}\r\n\r\nfunction handleSubmit(event) {\r\n  event.preventDefault();\r\n\r\n  if (!formData.email || !formData.message) {\r\n    alert('Fill please all fields');\r\n    return;\r\n  }\r\n\r\n  console.log(formData);\r\n\r\n  form.reset();\r\n  localStorage.removeItem(STORAGE_KEY);\r\n\r\n  formData.email = '';\r\n  formData.message = '';\r\n}\r\n\r\nfunction restoreForm() {\r\n  const saved = localStorage.getItem(STORAGE_KEY);\r\n\r\n  if (!saved) return;\r\n\r\n  try {\r\n    const parsed = JSON.parse(saved);\r\n\r\n    if (typeof parsed.email === 'string') {\r\n      form.elements.email.value = parsed.email;\r\n      formData.email = parsed.email;\r\n    }\r\n\r\n    if (typeof parsed.message === 'string') {\r\n      form.elements.message.value = parsed.message;\r\n      formData.message = parsed.message;\r\n    }\r\n  } catch (error) {\r\n    console.warn('Cannot parse saved form data:', error);\r\n  }\r\n}\r\n"],"names":["STORAGE_KEY","form","formData","restoreForm","handleInput","handleSubmit","event","name","value","saved","parsed","error"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEKD,GAGHE,IAEAF,EAAK,iBAAiB,QAASG,CAAW,EAC1CH,EAAK,iBAAiB,SAAUI,CAAY,GAL5C,QAAQ,KAAK,sCAAsC,EAQrD,SAASD,EAAYE,EAAO,CAC1B,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAExBC,KAAQL,IAIdA,EAASK,CAAI,EAAIC,EAAM,KAAI,EAE3B,aAAa,QAAQR,EAAa,KAAK,UAAUE,CAAQ,CAAC,EAC5D,CAEA,SAASG,EAAaC,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAEhB,CAACJ,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpBD,EAAK,MAAK,EACV,aAAa,WAAWD,CAAW,EAEnCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAEA,SAASC,GAAc,CACrB,MAAMM,EAAQ,aAAa,QAAQT,CAAW,EAE9C,GAAKS,EAEL,GAAI,CACF,MAAMC,EAAS,KAAK,MAAMD,CAAK,EAE3B,OAAOC,EAAO,OAAU,WAC1BT,EAAK,SAAS,MAAM,MAAQS,EAAO,MACnCR,EAAS,MAAQQ,EAAO,OAGtB,OAAOA,EAAO,SAAY,WAC5BT,EAAK,SAAS,QAAQ,MAAQS,EAAO,QACrCR,EAAS,QAAUQ,EAAO,QAE7B,OAAQC,EAAO,CACd,QAAQ,KAAK,gCAAiCA,CAAK,CACpD,CACH"}